# Approver Assignment Frontend Specification

## Overview
Approver assignment surfaces through the consultant onboarding experience in HubSpot CMS. The UI guides sales and operations through three screens that pull data generated by WF-01 and enforce the approver requirements validated by WF-03.

## User Interface Components

### 1. `hjp-assign-consultant-to-new-deal-01.module`
- **Role:** Entry screen summarising the deal, consultant, and required approver actions.
- **Inputs:** Prefills consultant name/email via query parameters embedded in `assign_consultant_to_a_new_sales_deal`.
- **Interactions:** Primary CTA opens the assignment form (`f1784acd-d74d-441e-b5e5-c0c4fbbf2f5e`).

### 2. `hjp-assign-consultant-to-new-deal-02.module`
- **Role:** Captures approver selection guidance and highlights conflict checks (approver â‰  consultant/primary contact).
- **Inputs:** Displays the approver/contact currently associated with the deal; warns when missing.
- **Interactions:** Secondary CTA links to CRM contact search; continues to final confirmation page.

### 3. `hjp-assign-consultant-to-new-deal-03.module`
- **Role:** Confirmation screen referencing the Create/Associate Well step.
- **Inputs:** Shows generated well-creation link (`create_associate_well`).
- **Interactions:** Provides checklist to ensure approver data is saved before returning to HubSpot deal.

## Form Validation (`f1784acd-d74d-441e-b5e5-c0c4fbbf2f5e`)
- Require `sales_deal_id_to_be_assigned` and `unique_project_id_from_sales_deal` hidden fields.
- Verify the submitted consultant email differs from the approver email present on the deal.
- Block submission if the deal lacks an Approver-labelled association (display error message on the module).

## User Experience
- Keep the three-step flow within a single session to avoid stale tokens generated by WF-01.
- Provide explicit error messaging when WF-03 rejects the approver (display notes from `deal_error_note_id`).
- After successful submission, deep-link users back to the HubSpot deal to trigger WF-03 re-enrolment.

_Last updated: 2025-09-18._
